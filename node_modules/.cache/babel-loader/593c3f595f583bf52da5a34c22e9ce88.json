{"ast":null,"code":"var _core = require(\"../core\");\n\nvar createElement = _core.createElement;\n\nvar zrUtil = require(\"../../core/util\");\n\nvar Path = require(\"../../graphic/Path\");\n\nvar ZImage = require(\"../../graphic/Image\");\n\nvar ZText = require(\"../../graphic/Text\");\n\nvar _graphic = require(\"../graphic\");\n\nvar svgPath = _graphic.path;\nvar svgImage = _graphic.image;\nvar svgText = _graphic.text;\n/**\n * @file Manages elements that can be defined in <defs> in SVG,\n *       e.g., gradients, clip path, etc.\n * @author Zhang Wenli\n */\n\nvar MARK_UNUSED = '0';\nvar MARK_USED = '1';\n/**\n * Manages elements that can be defined in <defs> in SVG,\n * e.g., gradients, clip path, etc.\n *\n * @class\n * @param {SVGElement}      svgRoot   root of SVG document\n * @param {string|string[]} tagNames  possible tag names\n * @param {string}          markLabel label name to make if the element\n *                                    is used\n */\n\nfunction Definable(svgRoot, tagNames, markLabel) {\n  this._svgRoot = svgRoot;\n  this._tagNames = typeof tagNames === 'string' ? [tagNames] : tagNames;\n  this._markLabel = markLabel;\n  this.nextId = 0;\n}\n\nDefinable.prototype.createElement = createElement;\n/**\n * Get the <defs> tag for svgRoot; optionally creates one if not exists.\n *\n * @param {boolean} isForceCreating if need to create when not exists\n * @return {SVGDefsElement} SVG <defs> element, null if it doesn't\n * exist and isForceCreating is false\n */\n\nDefinable.prototype.getDefs = function (isForceCreating) {\n  var svgRoot = this._svgRoot;\n\n  var defs = this._svgRoot.getElementsByTagName('defs');\n\n  if (defs.length === 0) {\n    // Not exist\n    if (isForceCreating) {\n      defs = svgRoot.insertBefore(this.createElement('defs'), // Create new tag\n      svgRoot.firstChild // Insert in the front of svg\n      );\n\n      if (!defs.contains) {\n        // IE doesn't support contains method\n        defs.contains = function (el) {\n          var children = defs.children;\n\n          if (!children) {\n            return false;\n          }\n\n          for (var i = children.length - 1; i >= 0; --i) {\n            if (children[i] === el) {\n              return true;\n            }\n          }\n\n          return false;\n        };\n      }\n\n      return defs;\n    } else {\n      return null;\n    }\n  } else {\n    return defs[0];\n  }\n};\n/**\n * Update DOM element if necessary.\n *\n * @param {Object|string} element style element. e.g., for gradient,\n *                                it may be '#ccc' or {type: 'linear', ...}\n * @param {Function|undefined} onUpdate update callback\n */\n\n\nDefinable.prototype.update = function (element, onUpdate) {\n  if (!element) {\n    return;\n  }\n\n  var defs = this.getDefs(false);\n\n  if (element._dom && defs.contains(element._dom)) {\n    // Update DOM\n    if (typeof onUpdate === 'function') {\n      onUpdate();\n    }\n  } else {\n    // No previous dom, create new\n    var dom = this.add(element);\n\n    if (dom) {\n      element._dom = dom;\n    }\n  }\n};\n/**\n * Add gradient dom to defs\n *\n * @param {SVGElement} dom DOM to be added to <defs>\n */\n\n\nDefinable.prototype.addDom = function (dom) {\n  var defs = this.getDefs(true);\n  defs.appendChild(dom);\n};\n/**\n * Remove DOM of a given element.\n *\n * @param {SVGElement} element element to remove dom\n */\n\n\nDefinable.prototype.removeDom = function (element) {\n  var defs = this.getDefs(false);\n  defs.removeChild(element._dom);\n};\n/**\n * Get DOMs of this element.\n *\n * @return {HTMLDomElement} doms of this defineable elements in <defs>\n */\n\n\nDefinable.prototype.getDoms = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // No dom when defs is not defined\n    return [];\n  }\n\n  var doms = [];\n  zrUtil.each(this._tagNames, function (tagName) {\n    var tags = defs.getElementsByTagName(tagName); // Note that tags is HTMLCollection, which is array-like\n    // rather than real array.\n    // So `doms.concat(tags)` add tags as one object.\n\n    doms = doms.concat([].slice.call(tags));\n  });\n  return doms;\n};\n/**\n * Mark DOMs to be unused before painting, and clear unused ones at the end\n * of the painting.\n */\n\n\nDefinable.prototype.markAllUnused = function () {\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    dom[that._markLabel] = MARK_UNUSED;\n  });\n};\n/**\n * Mark a single DOM to be used.\n *\n * @param {SVGElement} dom DOM to mark\n */\n\n\nDefinable.prototype.markUsed = function (dom) {\n  if (dom) {\n    dom[this._markLabel] = MARK_USED;\n  }\n};\n/**\n * Remove unused DOMs defined in <defs>\n */\n\n\nDefinable.prototype.removeUnused = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // Nothing to remove\n    return;\n  }\n\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    if (dom[that._markLabel] !== MARK_USED) {\n      // Remove gradient\n      defs.removeChild(dom);\n    }\n  });\n};\n/**\n * Get SVG proxy.\n *\n * @param {Displayable} displayable displayable element\n * @return {Path|Image|Text} svg proxy of given element\n */\n\n\nDefinable.prototype.getSvgProxy = function (displayable) {\n  if (displayable instanceof Path) {\n    return svgPath;\n  } else if (displayable instanceof ZImage) {\n    return svgImage;\n  } else if (displayable instanceof ZText) {\n    return svgText;\n  } else {\n    return svgPath;\n  }\n};\n/**\n * Get text SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element of text\n */\n\n\nDefinable.prototype.getTextSvgElement = function (displayable) {\n  return displayable.__textSvgEl;\n};\n/**\n * Get SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element\n */\n\n\nDefinable.prototype.getSvgElement = function (displayable) {\n  return displayable.__svgEl;\n};\n\nvar _default = Definable;\nmodule.exports = _default;","map":{"version":3,"sources":["/home/martin/Escritorio/Taller de Integracion/Tarea3-TallerDeIntegracion/node_modules/react-echarts/node_modules/zrender/lib/svg/helper/Definable.js"],"names":["_core","require","createElement","zrUtil","Path","ZImage","ZText","_graphic","svgPath","path","svgImage","image","svgText","text","MARK_UNUSED","MARK_USED","Definable","svgRoot","tagNames","markLabel","_svgRoot","_tagNames","_markLabel","nextId","prototype","getDefs","isForceCreating","defs","getElementsByTagName","length","insertBefore","firstChild","contains","el","children","i","update","element","onUpdate","_dom","dom","add","addDom","appendChild","removeDom","removeChild","getDoms","doms","each","tagName","tags","concat","slice","call","markAllUnused","that","markUsed","removeUnused","getSvgProxy","displayable","getTextSvgElement","__textSvgEl","getSvgElement","__svgEl","_default","module","exports"],"mappings":"AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,SAAD,CAAnB;;AAEA,IAAIC,aAAa,GAAGF,KAAK,CAACE,aAA1B;;AAEA,IAAIC,MAAM,GAAGF,OAAO,CAAC,iBAAD,CAApB;;AAEA,IAAIG,IAAI,GAAGH,OAAO,CAAC,oBAAD,CAAlB;;AAEA,IAAII,MAAM,GAAGJ,OAAO,CAAC,qBAAD,CAApB;;AAEA,IAAIK,KAAK,GAAGL,OAAO,CAAC,oBAAD,CAAnB;;AAEA,IAAIM,QAAQ,GAAGN,OAAO,CAAC,YAAD,CAAtB;;AAEA,IAAIO,OAAO,GAAGD,QAAQ,CAACE,IAAvB;AACA,IAAIC,QAAQ,GAAGH,QAAQ,CAACI,KAAxB;AACA,IAAIC,OAAO,GAAGL,QAAQ,CAACM,IAAvB;AAEA;;;;;;AAKA,IAAIC,WAAW,GAAG,GAAlB;AACA,IAAIC,SAAS,GAAG,GAAhB;AACA;;;;;;;;;;;AAWA,SAASC,SAAT,CAAmBC,OAAnB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiD;AAC/C,OAAKC,QAAL,GAAgBH,OAAhB;AACA,OAAKI,SAAL,GAAiB,OAAOH,QAAP,KAAoB,QAApB,GAA+B,CAACA,QAAD,CAA/B,GAA4CA,QAA7D;AACA,OAAKI,UAAL,GAAkBH,SAAlB;AACA,OAAKI,MAAL,GAAc,CAAd;AACD;;AAEDP,SAAS,CAACQ,SAAV,CAAoBtB,aAApB,GAAoCA,aAApC;AACA;;;;;;;;AAQAc,SAAS,CAACQ,SAAV,CAAoBC,OAApB,GAA8B,UAAUC,eAAV,EAA2B;AACvD,MAAIT,OAAO,GAAG,KAAKG,QAAnB;;AAEA,MAAIO,IAAI,GAAG,KAAKP,QAAL,CAAcQ,oBAAd,CAAmC,MAAnC,CAAX;;AAEA,MAAID,IAAI,CAACE,MAAL,KAAgB,CAApB,EAAuB;AACrB;AACA,QAAIH,eAAJ,EAAqB;AACnBC,MAAAA,IAAI,GAAGV,OAAO,CAACa,YAAR,CAAqB,KAAK5B,aAAL,CAAmB,MAAnB,CAArB,EAAiD;AACxDe,MAAAA,OAAO,CAACc,UADD,CACY;AADZ,OAAP;;AAIA,UAAI,CAACJ,IAAI,CAACK,QAAV,EAAoB;AAClB;AACAL,QAAAA,IAAI,CAACK,QAAL,GAAgB,UAAUC,EAAV,EAAc;AAC5B,cAAIC,QAAQ,GAAGP,IAAI,CAACO,QAApB;;AAEA,cAAI,CAACA,QAAL,EAAe;AACb,mBAAO,KAAP;AACD;;AAED,eAAK,IAAIC,CAAC,GAAGD,QAAQ,CAACL,MAAT,GAAkB,CAA/B,EAAkCM,CAAC,IAAI,CAAvC,EAA0C,EAAEA,CAA5C,EAA+C;AAC7C,gBAAID,QAAQ,CAACC,CAAD,CAAR,KAAgBF,EAApB,EAAwB;AACtB,qBAAO,IAAP;AACD;AACF;;AAED,iBAAO,KAAP;AACD,SAdD;AAeD;;AAED,aAAON,IAAP;AACD,KAzBD,MAyBO;AACL,aAAO,IAAP;AACD;AACF,GA9BD,MA8BO;AACL,WAAOA,IAAI,CAAC,CAAD,CAAX;AACD;AACF,CAtCD;AAuCA;;;;;;;;;AASAX,SAAS,CAACQ,SAAV,CAAoBY,MAApB,GAA6B,UAAUC,OAAV,EAAmBC,QAAnB,EAA6B;AACxD,MAAI,CAACD,OAAL,EAAc;AACZ;AACD;;AAED,MAAIV,IAAI,GAAG,KAAKF,OAAL,CAAa,KAAb,CAAX;;AAEA,MAAIY,OAAO,CAACE,IAAR,IAAgBZ,IAAI,CAACK,QAAL,CAAcK,OAAO,CAACE,IAAtB,CAApB,EAAiD;AAC/C;AACA,QAAI,OAAOD,QAAP,KAAoB,UAAxB,EAAoC;AAClCA,MAAAA,QAAQ;AACT;AACF,GALD,MAKO;AACL;AACA,QAAIE,GAAG,GAAG,KAAKC,GAAL,CAASJ,OAAT,CAAV;;AAEA,QAAIG,GAAJ,EAAS;AACPH,MAAAA,OAAO,CAACE,IAAR,GAAeC,GAAf;AACD;AACF;AACF,CApBD;AAqBA;;;;;;;AAOAxB,SAAS,CAACQ,SAAV,CAAoBkB,MAApB,GAA6B,UAAUF,GAAV,EAAe;AAC1C,MAAIb,IAAI,GAAG,KAAKF,OAAL,CAAa,IAAb,CAAX;AACAE,EAAAA,IAAI,CAACgB,WAAL,CAAiBH,GAAjB;AACD,CAHD;AAIA;;;;;;;AAOAxB,SAAS,CAACQ,SAAV,CAAoBoB,SAApB,GAAgC,UAAUP,OAAV,EAAmB;AACjD,MAAIV,IAAI,GAAG,KAAKF,OAAL,CAAa,KAAb,CAAX;AACAE,EAAAA,IAAI,CAACkB,WAAL,CAAiBR,OAAO,CAACE,IAAzB;AACD,CAHD;AAIA;;;;;;;AAOAvB,SAAS,CAACQ,SAAV,CAAoBsB,OAApB,GAA8B,YAAY;AACxC,MAAInB,IAAI,GAAG,KAAKF,OAAL,CAAa,KAAb,CAAX;;AAEA,MAAI,CAACE,IAAL,EAAW;AACT;AACA,WAAO,EAAP;AACD;;AAED,MAAIoB,IAAI,GAAG,EAAX;AACA5C,EAAAA,MAAM,CAAC6C,IAAP,CAAY,KAAK3B,SAAjB,EAA4B,UAAU4B,OAAV,EAAmB;AAC7C,QAAIC,IAAI,GAAGvB,IAAI,CAACC,oBAAL,CAA0BqB,OAA1B,CAAX,CAD6C,CACE;AAC/C;AACA;;AAEAF,IAAAA,IAAI,GAAGA,IAAI,CAACI,MAAL,CAAY,GAAGC,KAAH,CAASC,IAAT,CAAcH,IAAd,CAAZ,CAAP;AACD,GAND;AAOA,SAAOH,IAAP;AACD,CAjBD;AAkBA;;;;;;AAMA/B,SAAS,CAACQ,SAAV,CAAoB8B,aAApB,GAAoC,YAAY;AAC9C,MAAIP,IAAI,GAAG,KAAKD,OAAL,EAAX;AACA,MAAIS,IAAI,GAAG,IAAX;AACApD,EAAAA,MAAM,CAAC6C,IAAP,CAAYD,IAAZ,EAAkB,UAAUP,GAAV,EAAe;AAC/BA,IAAAA,GAAG,CAACe,IAAI,CAACjC,UAAN,CAAH,GAAuBR,WAAvB;AACD,GAFD;AAGD,CAND;AAOA;;;;;;;AAOAE,SAAS,CAACQ,SAAV,CAAoBgC,QAApB,GAA+B,UAAUhB,GAAV,EAAe;AAC5C,MAAIA,GAAJ,EAAS;AACPA,IAAAA,GAAG,CAAC,KAAKlB,UAAN,CAAH,GAAuBP,SAAvB;AACD;AACF,CAJD;AAKA;;;;;AAKAC,SAAS,CAACQ,SAAV,CAAoBiC,YAApB,GAAmC,YAAY;AAC7C,MAAI9B,IAAI,GAAG,KAAKF,OAAL,CAAa,KAAb,CAAX;;AAEA,MAAI,CAACE,IAAL,EAAW;AACT;AACA;AACD;;AAED,MAAIoB,IAAI,GAAG,KAAKD,OAAL,EAAX;AACA,MAAIS,IAAI,GAAG,IAAX;AACApD,EAAAA,MAAM,CAAC6C,IAAP,CAAYD,IAAZ,EAAkB,UAAUP,GAAV,EAAe;AAC/B,QAAIA,GAAG,CAACe,IAAI,CAACjC,UAAN,CAAH,KAAyBP,SAA7B,EAAwC;AACtC;AACAY,MAAAA,IAAI,CAACkB,WAAL,CAAiBL,GAAjB;AACD;AACF,GALD;AAMD,CAhBD;AAiBA;;;;;;;;AAQAxB,SAAS,CAACQ,SAAV,CAAoBkC,WAApB,GAAkC,UAAUC,WAAV,EAAuB;AACvD,MAAIA,WAAW,YAAYvD,IAA3B,EAAiC;AAC/B,WAAOI,OAAP;AACD,GAFD,MAEO,IAAImD,WAAW,YAAYtD,MAA3B,EAAmC;AACxC,WAAOK,QAAP;AACD,GAFM,MAEA,IAAIiD,WAAW,YAAYrD,KAA3B,EAAkC;AACvC,WAAOM,OAAP;AACD,GAFM,MAEA;AACL,WAAOJ,OAAP;AACD;AACF,CAVD;AAWA;;;;;;;;AAQAQ,SAAS,CAACQ,SAAV,CAAoBoC,iBAApB,GAAwC,UAAUD,WAAV,EAAuB;AAC7D,SAAOA,WAAW,CAACE,WAAnB;AACD,CAFD;AAGA;;;;;;;;AAQA7C,SAAS,CAACQ,SAAV,CAAoBsC,aAApB,GAAoC,UAAUH,WAAV,EAAuB;AACzD,SAAOA,WAAW,CAACI,OAAnB;AACD,CAFD;;AAIA,IAAIC,QAAQ,GAAGhD,SAAf;AACAiD,MAAM,CAACC,OAAP,GAAiBF,QAAjB","sourcesContent":["var _core = require(\"../core\");\n\nvar createElement = _core.createElement;\n\nvar zrUtil = require(\"../../core/util\");\n\nvar Path = require(\"../../graphic/Path\");\n\nvar ZImage = require(\"../../graphic/Image\");\n\nvar ZText = require(\"../../graphic/Text\");\n\nvar _graphic = require(\"../graphic\");\n\nvar svgPath = _graphic.path;\nvar svgImage = _graphic.image;\nvar svgText = _graphic.text;\n\n/**\n * @file Manages elements that can be defined in <defs> in SVG,\n *       e.g., gradients, clip path, etc.\n * @author Zhang Wenli\n */\nvar MARK_UNUSED = '0';\nvar MARK_USED = '1';\n/**\n * Manages elements that can be defined in <defs> in SVG,\n * e.g., gradients, clip path, etc.\n *\n * @class\n * @param {SVGElement}      svgRoot   root of SVG document\n * @param {string|string[]} tagNames  possible tag names\n * @param {string}          markLabel label name to make if the element\n *                                    is used\n */\n\nfunction Definable(svgRoot, tagNames, markLabel) {\n  this._svgRoot = svgRoot;\n  this._tagNames = typeof tagNames === 'string' ? [tagNames] : tagNames;\n  this._markLabel = markLabel;\n  this.nextId = 0;\n}\n\nDefinable.prototype.createElement = createElement;\n/**\n * Get the <defs> tag for svgRoot; optionally creates one if not exists.\n *\n * @param {boolean} isForceCreating if need to create when not exists\n * @return {SVGDefsElement} SVG <defs> element, null if it doesn't\n * exist and isForceCreating is false\n */\n\nDefinable.prototype.getDefs = function (isForceCreating) {\n  var svgRoot = this._svgRoot;\n\n  var defs = this._svgRoot.getElementsByTagName('defs');\n\n  if (defs.length === 0) {\n    // Not exist\n    if (isForceCreating) {\n      defs = svgRoot.insertBefore(this.createElement('defs'), // Create new tag\n      svgRoot.firstChild // Insert in the front of svg\n      );\n\n      if (!defs.contains) {\n        // IE doesn't support contains method\n        defs.contains = function (el) {\n          var children = defs.children;\n\n          if (!children) {\n            return false;\n          }\n\n          for (var i = children.length - 1; i >= 0; --i) {\n            if (children[i] === el) {\n              return true;\n            }\n          }\n\n          return false;\n        };\n      }\n\n      return defs;\n    } else {\n      return null;\n    }\n  } else {\n    return defs[0];\n  }\n};\n/**\n * Update DOM element if necessary.\n *\n * @param {Object|string} element style element. e.g., for gradient,\n *                                it may be '#ccc' or {type: 'linear', ...}\n * @param {Function|undefined} onUpdate update callback\n */\n\n\nDefinable.prototype.update = function (element, onUpdate) {\n  if (!element) {\n    return;\n  }\n\n  var defs = this.getDefs(false);\n\n  if (element._dom && defs.contains(element._dom)) {\n    // Update DOM\n    if (typeof onUpdate === 'function') {\n      onUpdate();\n    }\n  } else {\n    // No previous dom, create new\n    var dom = this.add(element);\n\n    if (dom) {\n      element._dom = dom;\n    }\n  }\n};\n/**\n * Add gradient dom to defs\n *\n * @param {SVGElement} dom DOM to be added to <defs>\n */\n\n\nDefinable.prototype.addDom = function (dom) {\n  var defs = this.getDefs(true);\n  defs.appendChild(dom);\n};\n/**\n * Remove DOM of a given element.\n *\n * @param {SVGElement} element element to remove dom\n */\n\n\nDefinable.prototype.removeDom = function (element) {\n  var defs = this.getDefs(false);\n  defs.removeChild(element._dom);\n};\n/**\n * Get DOMs of this element.\n *\n * @return {HTMLDomElement} doms of this defineable elements in <defs>\n */\n\n\nDefinable.prototype.getDoms = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // No dom when defs is not defined\n    return [];\n  }\n\n  var doms = [];\n  zrUtil.each(this._tagNames, function (tagName) {\n    var tags = defs.getElementsByTagName(tagName); // Note that tags is HTMLCollection, which is array-like\n    // rather than real array.\n    // So `doms.concat(tags)` add tags as one object.\n\n    doms = doms.concat([].slice.call(tags));\n  });\n  return doms;\n};\n/**\n * Mark DOMs to be unused before painting, and clear unused ones at the end\n * of the painting.\n */\n\n\nDefinable.prototype.markAllUnused = function () {\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    dom[that._markLabel] = MARK_UNUSED;\n  });\n};\n/**\n * Mark a single DOM to be used.\n *\n * @param {SVGElement} dom DOM to mark\n */\n\n\nDefinable.prototype.markUsed = function (dom) {\n  if (dom) {\n    dom[this._markLabel] = MARK_USED;\n  }\n};\n/**\n * Remove unused DOMs defined in <defs>\n */\n\n\nDefinable.prototype.removeUnused = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // Nothing to remove\n    return;\n  }\n\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    if (dom[that._markLabel] !== MARK_USED) {\n      // Remove gradient\n      defs.removeChild(dom);\n    }\n  });\n};\n/**\n * Get SVG proxy.\n *\n * @param {Displayable} displayable displayable element\n * @return {Path|Image|Text} svg proxy of given element\n */\n\n\nDefinable.prototype.getSvgProxy = function (displayable) {\n  if (displayable instanceof Path) {\n    return svgPath;\n  } else if (displayable instanceof ZImage) {\n    return svgImage;\n  } else if (displayable instanceof ZText) {\n    return svgText;\n  } else {\n    return svgPath;\n  }\n};\n/**\n * Get text SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element of text\n */\n\n\nDefinable.prototype.getTextSvgElement = function (displayable) {\n  return displayable.__textSvgEl;\n};\n/**\n * Get SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element\n */\n\n\nDefinable.prototype.getSvgElement = function (displayable) {\n  return displayable.__svgEl;\n};\n\nvar _default = Definable;\nmodule.exports = _default;"]},"metadata":{},"sourceType":"script"}