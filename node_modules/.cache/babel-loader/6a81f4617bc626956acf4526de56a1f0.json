{"ast":null,"code":"var guid = require(\"./core/guid\");\n\nvar env = require(\"./core/env\");\n\nvar zrUtil = require(\"./core/util\");\n\nvar Handler = require(\"./Handler\");\n\nvar Storage = require(\"./Storage\");\n\nvar Painter = require(\"./Painter\");\n\nvar Animation = require(\"./animation/Animation\");\n\nvar HandlerProxy = require(\"./dom/HandlerProxy\");\n/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\n\n\nvar useVML = !env.canvasSupported;\nvar painterCtors = {\n  canvas: Painter\n};\nvar instances = {}; // ZRender实例map索引\n\n/**\n * @type {string}\n */\n\nvar version = '3.7.4';\n/**\n * Initializing a zrender instance\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n * @return {module:zrender/ZRender}\n */\n\nfunction init(dom, opts) {\n  var zr = new ZRender(guid(), dom, opts);\n  instances[zr.id] = zr;\n  return zr;\n}\n/**\n * Dispose zrender instance\n * @param {module:zrender/ZRender} zr\n */\n\n\nfunction dispose(zr) {\n  if (zr) {\n    zr.dispose();\n  } else {\n    for (var key in instances) {\n      if (instances.hasOwnProperty(key)) {\n        instances[key].dispose();\n      }\n    }\n\n    instances = {};\n  }\n\n  return this;\n}\n/**\n * Get zrender instance by id\n * @param {string} id zrender instance id\n * @return {module:zrender/ZRender}\n */\n\n\nfunction getInstance(id) {\n  return instances[id];\n}\n\nfunction registerPainter(name, Ctor) {\n  painterCtors[name] = Ctor;\n}\n\nfunction delInstance(id) {\n  delete instances[id];\n}\n/**\n * @module zrender/ZRender\n */\n\n/**\n * @constructor\n * @alias module:zrender/ZRender\n * @param {string} id\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n */\n\n\nvar ZRender = function (id, dom, opts) {\n  opts = opts || {};\n  /**\n   * @type {HTMLDomElement}\n   */\n\n  this.dom = dom;\n  /**\n   * @type {string}\n   */\n\n  this.id = id;\n  var self = this;\n  var storage = new Storage();\n  var rendererType = opts.renderer; // TODO WebGL\n\n  if (useVML) {\n    if (!painterCtors.vml) {\n      throw new Error('You need to require \\'zrender/vml/vml\\' to support IE8');\n    }\n\n    rendererType = 'vml';\n  } else if (!rendererType || !painterCtors[rendererType]) {\n    rendererType = 'canvas';\n  }\n\n  var painter = new painterCtors[rendererType](dom, storage, opts);\n  this.storage = storage;\n  this.painter = painter;\n  var handerProxy = !env.node ? new HandlerProxy(painter.getViewportRoot()) : null;\n  this.handler = new Handler(storage, painter, handerProxy, painter.root);\n  /**\n   * @type {module:zrender/animation/Animation}\n   */\n\n  this.animation = new Animation({\n    stage: {\n      update: zrUtil.bind(this.flush, this)\n    }\n  });\n  this.animation.start();\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._needsRefresh; // 修改 storage.delFromStorage, 每次删除元素之前删除动画\n  // FIXME 有点ugly\n\n  var oldDelFromStorage = storage.delFromStorage;\n  var oldAddToStorage = storage.addToStorage;\n\n  storage.delFromStorage = function (el) {\n    oldDelFromStorage.call(storage, el);\n    el && el.removeSelfFromZr(self);\n  };\n\n  storage.addToStorage = function (el) {\n    oldAddToStorage.call(storage, el);\n    el.addSelfToZr(self);\n  };\n};\n\nZRender.prototype = {\n  constructor: ZRender,\n\n  /**\n   * 获取实例唯一标识\n   * @return {string}\n   */\n  getId: function () {\n    return this.id;\n  },\n\n  /**\n   * 添加元素\n   * @param  {module:zrender/Element} el\n   */\n  add: function (el) {\n    this.storage.addRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * 删除元素\n   * @param  {module:zrender/Element} el\n   */\n  remove: function (el) {\n    this.storage.delRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Change configuration of layer\n   * @param {string} zLevel\n   * @param {Object} config\n   * @param {string} [config.clearColor=0] Clear color\n   * @param {string} [config.motionBlur=false] If enable motion blur\n   * @param {number} [config.lastFrameAlpha=0.7] Motion blur factor. Larger value cause longer trailer\n  */\n  configLayer: function (zLevel, config) {\n    this.painter.configLayer(zLevel, config);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Repaint the canvas immediately\n   */\n  refreshImmediately: function () {\n    // var start = new Date();\n    // Clear needsRefresh ahead to avoid something wrong happens in refresh\n    // Or it will cause zrender refreshes again and again.\n    this._needsRefresh = false;\n    this.painter.refresh();\n    /**\n     * Avoid trigger zr.refresh in Element#beforeUpdate hook\n     */\n\n    this._needsRefresh = false; // var end = new Date();\n    // var log = document.getElementById('log');\n    // if (log) {\n    //     log.innerHTML = log.innerHTML + '<br>' + (end - start);\n    // }\n  },\n\n  /**\n   * Mark and repaint the canvas in the next frame of browser\n   */\n  refresh: function () {\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Perform all refresh\n   */\n  flush: function () {\n    if (this._needsRefresh) {\n      this.refreshImmediately();\n    }\n\n    if (this._needsRefreshHover) {\n      this.refreshHoverImmediately();\n    }\n  },\n\n  /**\n   * Add element to hover layer\n   * @param  {module:zrender/Element} el\n   * @param {Object} style\n   */\n  addHover: function (el, style) {\n    if (this.painter.addHover) {\n      this.painter.addHover(el, style);\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Add element from hover layer\n   * @param  {module:zrender/Element} el\n   */\n  removeHover: function (el) {\n    if (this.painter.removeHover) {\n      this.painter.removeHover(el);\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Clear all hover elements in hover layer\n   * @param  {module:zrender/Element} el\n   */\n  clearHover: function () {\n    if (this.painter.clearHover) {\n      this.painter.clearHover();\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Refresh hover in next frame\n   */\n  refreshHover: function () {\n    this._needsRefreshHover = true;\n  },\n\n  /**\n   * Refresh hover immediately\n   */\n  refreshHoverImmediately: function () {\n    this._needsRefreshHover = false;\n    this.painter.refreshHover && this.painter.refreshHover();\n  },\n\n  /**\n   * Resize the canvas.\n   * Should be invoked when container size is changed\n   * @param {Object} [opts]\n   * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n   */\n  resize: function (opts) {\n    opts = opts || {};\n    this.painter.resize(opts.width, opts.height);\n    this.handler.resize();\n  },\n\n  /**\n   * Stop and clear all animation immediately\n   */\n  clearAnimation: function () {\n    this.animation.clear();\n  },\n\n  /**\n   * Get container width\n   */\n  getWidth: function () {\n    return this.painter.getWidth();\n  },\n\n  /**\n   * Get container height\n   */\n  getHeight: function () {\n    return this.painter.getHeight();\n  },\n\n  /**\n   * Export the canvas as Base64 URL\n   * @param {string} type\n   * @param {string} [backgroundColor='#fff']\n   * @return {string} Base64 URL\n   */\n  // toDataURL: function(type, backgroundColor) {\n  //     return this.painter.getRenderedCanvas({\n  //         backgroundColor: backgroundColor\n  //     }).toDataURL(type);\n  // },\n\n  /**\n   * Converting a path to image.\n   * It has much better performance of drawing image rather than drawing a vector path.\n   * @param {module:zrender/graphic/Path} e\n   * @param {number} width\n   * @param {number} height\n   */\n  pathToImage: function (e, dpr) {\n    return this.painter.pathToImage(e, dpr);\n  },\n\n  /**\n   * Set default cursor\n   * @param {string} [cursorStyle='default'] 例如 crosshair\n   */\n  setCursorStyle: function (cursorStyle) {\n    this.handler.setCursorStyle(cursorStyle);\n  },\n\n  /**\n   * Find hovered element\n   * @param {number} x\n   * @param {number} y\n   * @return {Object} {target, topTarget}\n   */\n  findHover: function (x, y) {\n    return this.handler.findHover(x, y);\n  },\n\n  /**\n   * Bind event\n   *\n   * @param {string} eventName Event name\n   * @param {Function} eventHandler Handler function\n   * @param {Object} [context] Context object\n   */\n  on: function (eventName, eventHandler, context) {\n    this.handler.on(eventName, eventHandler, context);\n  },\n\n  /**\n   * Unbind event\n   * @param {string} eventName Event name\n   * @param {Function} [eventHandler] Handler function\n   */\n  off: function (eventName, eventHandler) {\n    this.handler.off(eventName, eventHandler);\n  },\n\n  /**\n   * Trigger event manually\n   *\n   * @param {string} eventName Event name\n   * @param {event=} event Event object\n   */\n  trigger: function (eventName, event) {\n    this.handler.trigger(eventName, event);\n  },\n\n  /**\n   * Clear all objects and the canvas.\n   */\n  clear: function () {\n    this.storage.delRoot();\n    this.painter.clear();\n  },\n\n  /**\n   * Dispose self.\n   */\n  dispose: function () {\n    this.animation.stop();\n    this.clear();\n    this.storage.dispose();\n    this.painter.dispose();\n    this.handler.dispose();\n    this.animation = this.storage = this.painter = this.handler = null;\n    delInstance(this.id);\n  }\n};\nexports.version = version;\nexports.init = init;\nexports.dispose = dispose;\nexports.getInstance = getInstance;\nexports.registerPainter = registerPainter;","map":{"version":3,"sources":["/home/martin/Escritorio/Taller de Integracion/Tarea3-TallerDeIntegracion/node_modules/react-echarts/node_modules/zrender/lib/zrender.js"],"names":["guid","require","env","zrUtil","Handler","Storage","Painter","Animation","HandlerProxy","useVML","canvasSupported","painterCtors","canvas","instances","version","init","dom","opts","zr","ZRender","id","dispose","key","hasOwnProperty","getInstance","registerPainter","name","Ctor","delInstance","self","storage","rendererType","renderer","vml","Error","painter","handerProxy","node","getViewportRoot","handler","root","animation","stage","update","bind","flush","start","_needsRefresh","oldDelFromStorage","delFromStorage","oldAddToStorage","addToStorage","el","call","removeSelfFromZr","addSelfToZr","prototype","constructor","getId","add","addRoot","remove","delRoot","configLayer","zLevel","config","refreshImmediately","refresh","_needsRefreshHover","refreshHoverImmediately","addHover","style","refreshHover","removeHover","clearHover","resize","width","height","clearAnimation","clear","getWidth","getHeight","pathToImage","e","dpr","setCursorStyle","cursorStyle","findHover","x","y","on","eventName","eventHandler","context","off","trigger","event","stop","exports"],"mappings":"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","sourcesContent":["var guid = require(\"./core/guid\");\n\nvar env = require(\"./core/env\");\n\nvar zrUtil = require(\"./core/util\");\n\nvar Handler = require(\"./Handler\");\n\nvar Storage = require(\"./Storage\");\n\nvar Painter = require(\"./Painter\");\n\nvar Animation = require(\"./animation/Animation\");\n\nvar HandlerProxy = require(\"./dom/HandlerProxy\");\n\n/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nvar useVML = !env.canvasSupported;\nvar painterCtors = {\n  canvas: Painter\n};\nvar instances = {}; // ZRender实例map索引\n\n/**\n * @type {string}\n */\n\nvar version = '3.7.4';\n/**\n * Initializing a zrender instance\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n * @return {module:zrender/ZRender}\n */\n\nfunction init(dom, opts) {\n  var zr = new ZRender(guid(), dom, opts);\n  instances[zr.id] = zr;\n  return zr;\n}\n/**\n * Dispose zrender instance\n * @param {module:zrender/ZRender} zr\n */\n\n\nfunction dispose(zr) {\n  if (zr) {\n    zr.dispose();\n  } else {\n    for (var key in instances) {\n      if (instances.hasOwnProperty(key)) {\n        instances[key].dispose();\n      }\n    }\n\n    instances = {};\n  }\n\n  return this;\n}\n/**\n * Get zrender instance by id\n * @param {string} id zrender instance id\n * @return {module:zrender/ZRender}\n */\n\n\nfunction getInstance(id) {\n  return instances[id];\n}\n\nfunction registerPainter(name, Ctor) {\n  painterCtors[name] = Ctor;\n}\n\nfunction delInstance(id) {\n  delete instances[id];\n}\n/**\n * @module zrender/ZRender\n */\n\n/**\n * @constructor\n * @alias module:zrender/ZRender\n * @param {string} id\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n */\n\n\nvar ZRender = function (id, dom, opts) {\n  opts = opts || {};\n  /**\n   * @type {HTMLDomElement}\n   */\n\n  this.dom = dom;\n  /**\n   * @type {string}\n   */\n\n  this.id = id;\n  var self = this;\n  var storage = new Storage();\n  var rendererType = opts.renderer; // TODO WebGL\n\n  if (useVML) {\n    if (!painterCtors.vml) {\n      throw new Error('You need to require \\'zrender/vml/vml\\' to support IE8');\n    }\n\n    rendererType = 'vml';\n  } else if (!rendererType || !painterCtors[rendererType]) {\n    rendererType = 'canvas';\n  }\n\n  var painter = new painterCtors[rendererType](dom, storage, opts);\n  this.storage = storage;\n  this.painter = painter;\n  var handerProxy = !env.node ? new HandlerProxy(painter.getViewportRoot()) : null;\n  this.handler = new Handler(storage, painter, handerProxy, painter.root);\n  /**\n   * @type {module:zrender/animation/Animation}\n   */\n\n  this.animation = new Animation({\n    stage: {\n      update: zrUtil.bind(this.flush, this)\n    }\n  });\n  this.animation.start();\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._needsRefresh; // 修改 storage.delFromStorage, 每次删除元素之前删除动画\n  // FIXME 有点ugly\n\n  var oldDelFromStorage = storage.delFromStorage;\n  var oldAddToStorage = storage.addToStorage;\n\n  storage.delFromStorage = function (el) {\n    oldDelFromStorage.call(storage, el);\n    el && el.removeSelfFromZr(self);\n  };\n\n  storage.addToStorage = function (el) {\n    oldAddToStorage.call(storage, el);\n    el.addSelfToZr(self);\n  };\n};\n\nZRender.prototype = {\n  constructor: ZRender,\n\n  /**\n   * 获取实例唯一标识\n   * @return {string}\n   */\n  getId: function () {\n    return this.id;\n  },\n\n  /**\n   * 添加元素\n   * @param  {module:zrender/Element} el\n   */\n  add: function (el) {\n    this.storage.addRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * 删除元素\n   * @param  {module:zrender/Element} el\n   */\n  remove: function (el) {\n    this.storage.delRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Change configuration of layer\n   * @param {string} zLevel\n   * @param {Object} config\n   * @param {string} [config.clearColor=0] Clear color\n   * @param {string} [config.motionBlur=false] If enable motion blur\n   * @param {number} [config.lastFrameAlpha=0.7] Motion blur factor. Larger value cause longer trailer\n  */\n  configLayer: function (zLevel, config) {\n    this.painter.configLayer(zLevel, config);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Repaint the canvas immediately\n   */\n  refreshImmediately: function () {\n    // var start = new Date();\n    // Clear needsRefresh ahead to avoid something wrong happens in refresh\n    // Or it will cause zrender refreshes again and again.\n    this._needsRefresh = false;\n    this.painter.refresh();\n    /**\n     * Avoid trigger zr.refresh in Element#beforeUpdate hook\n     */\n\n    this._needsRefresh = false; // var end = new Date();\n    // var log = document.getElementById('log');\n    // if (log) {\n    //     log.innerHTML = log.innerHTML + '<br>' + (end - start);\n    // }\n  },\n\n  /**\n   * Mark and repaint the canvas in the next frame of browser\n   */\n  refresh: function () {\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Perform all refresh\n   */\n  flush: function () {\n    if (this._needsRefresh) {\n      this.refreshImmediately();\n    }\n\n    if (this._needsRefreshHover) {\n      this.refreshHoverImmediately();\n    }\n  },\n\n  /**\n   * Add element to hover layer\n   * @param  {module:zrender/Element} el\n   * @param {Object} style\n   */\n  addHover: function (el, style) {\n    if (this.painter.addHover) {\n      this.painter.addHover(el, style);\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Add element from hover layer\n   * @param  {module:zrender/Element} el\n   */\n  removeHover: function (el) {\n    if (this.painter.removeHover) {\n      this.painter.removeHover(el);\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Clear all hover elements in hover layer\n   * @param  {module:zrender/Element} el\n   */\n  clearHover: function () {\n    if (this.painter.clearHover) {\n      this.painter.clearHover();\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Refresh hover in next frame\n   */\n  refreshHover: function () {\n    this._needsRefreshHover = true;\n  },\n\n  /**\n   * Refresh hover immediately\n   */\n  refreshHoverImmediately: function () {\n    this._needsRefreshHover = false;\n    this.painter.refreshHover && this.painter.refreshHover();\n  },\n\n  /**\n   * Resize the canvas.\n   * Should be invoked when container size is changed\n   * @param {Object} [opts]\n   * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n   */\n  resize: function (opts) {\n    opts = opts || {};\n    this.painter.resize(opts.width, opts.height);\n    this.handler.resize();\n  },\n\n  /**\n   * Stop and clear all animation immediately\n   */\n  clearAnimation: function () {\n    this.animation.clear();\n  },\n\n  /**\n   * Get container width\n   */\n  getWidth: function () {\n    return this.painter.getWidth();\n  },\n\n  /**\n   * Get container height\n   */\n  getHeight: function () {\n    return this.painter.getHeight();\n  },\n\n  /**\n   * Export the canvas as Base64 URL\n   * @param {string} type\n   * @param {string} [backgroundColor='#fff']\n   * @return {string} Base64 URL\n   */\n  // toDataURL: function(type, backgroundColor) {\n  //     return this.painter.getRenderedCanvas({\n  //         backgroundColor: backgroundColor\n  //     }).toDataURL(type);\n  // },\n\n  /**\n   * Converting a path to image.\n   * It has much better performance of drawing image rather than drawing a vector path.\n   * @param {module:zrender/graphic/Path} e\n   * @param {number} width\n   * @param {number} height\n   */\n  pathToImage: function (e, dpr) {\n    return this.painter.pathToImage(e, dpr);\n  },\n\n  /**\n   * Set default cursor\n   * @param {string} [cursorStyle='default'] 例如 crosshair\n   */\n  setCursorStyle: function (cursorStyle) {\n    this.handler.setCursorStyle(cursorStyle);\n  },\n\n  /**\n   * Find hovered element\n   * @param {number} x\n   * @param {number} y\n   * @return {Object} {target, topTarget}\n   */\n  findHover: function (x, y) {\n    return this.handler.findHover(x, y);\n  },\n\n  /**\n   * Bind event\n   *\n   * @param {string} eventName Event name\n   * @param {Function} eventHandler Handler function\n   * @param {Object} [context] Context object\n   */\n  on: function (eventName, eventHandler, context) {\n    this.handler.on(eventName, eventHandler, context);\n  },\n\n  /**\n   * Unbind event\n   * @param {string} eventName Event name\n   * @param {Function} [eventHandler] Handler function\n   */\n  off: function (eventName, eventHandler) {\n    this.handler.off(eventName, eventHandler);\n  },\n\n  /**\n   * Trigger event manually\n   *\n   * @param {string} eventName Event name\n   * @param {event=} event Event object\n   */\n  trigger: function (eventName, event) {\n    this.handler.trigger(eventName, event);\n  },\n\n  /**\n   * Clear all objects and the canvas.\n   */\n  clear: function () {\n    this.storage.delRoot();\n    this.painter.clear();\n  },\n\n  /**\n   * Dispose self.\n   */\n  dispose: function () {\n    this.animation.stop();\n    this.clear();\n    this.storage.dispose();\n    this.painter.dispose();\n    this.handler.dispose();\n    this.animation = this.storage = this.painter = this.handler = null;\n    delInstance(this.id);\n  }\n};\nexports.version = version;\nexports.init = init;\nexports.dispose = dispose;\nexports.getInstance = getInstance;\nexports.registerPainter = registerPainter;"]},"metadata":{},"sourceType":"script"}